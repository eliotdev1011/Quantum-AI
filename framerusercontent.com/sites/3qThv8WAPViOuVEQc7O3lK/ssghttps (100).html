import{jsx as _jsx}from"react/jsx-runtime";import{useState,useEffect}from"react";export function withMonthlyProjection(Component){return props=>{const[monthlyProjection,setMonthlyProjection]=useState(0);const[ethPrice,setEthPrice]=useState(0)// State to hold Ethereum price
;// Function to fetch Monthly Projection
const fetchMonthlyProjection=async()=>{try{console.log("Fetching Monthly Projection...");const response=await fetch("https://thedataineed.info/qhash/beta2/summery.json");const result=await response.json();// Access the 'Monthly Projection' key
if(result&&typeof result["Monthly Projection"]==="number"){const newMonthlyProjection=parseFloat(result["Monthly Projection"]).toFixed(4);console.log("Fetched Monthly Projection:",newMonthlyProjection);setMonthlyProjection(newMonthlyProjection);}else{console.error("Unexpected data format or missing 'Monthly Projection':",result);}}catch(error){console.error("Error fetching 'Monthly Projection':",error);setMonthlyProjection(0);}};// Function to fetch Ethereum price
const fetchEthPrice=async()=>{try{console.log("Fetching Ethereum price...");const response=await fetch("https://api.binance.com/api/v3/ticker/price?symbol=ETHUSDT");const result=await response.json();if(result&&typeof result.price==="string"){const newEthPrice=parseFloat(result.price).toFixed(2);console.log("Fetched Ethereum price:",newEthPrice);setEthPrice(newEthPrice);}else{console.error("Unexpected data format or missing Ethereum price:",result);}}catch(error){console.error("Error fetching Ethereum price:",error);setEthPrice(0);}};useEffect(()=>{// Fetch both Monthly Projection and Ethereum price initially
fetchMonthlyProjection();fetchEthPrice();// Set up intervals to fetch data every 10 seconds
const monthlyProjectionInterval=setInterval(fetchMonthlyProjection,1e4);const ethPriceInterval=setInterval(fetchEthPrice,1e4);// Cleanup intervals on component unmount
return()=>{clearInterval(monthlyProjectionInterval);clearInterval(ethPriceInterval);console.log("Intervals cleared");};},[])// Empty dependency array to run only once
;// Calculate Monthly Projection dollar value by multiplying with Ethereum price
const monthlyProjectionInUsd=(parseFloat(monthlyProjection)*parseFloat(ethPrice)).toFixed(2);// Render the original component with the calculated monthlyProjectionInUsd
return /*#__PURE__*/_jsx(Component,{...props,text:`$${monthlyProjectionInUsd}`});};}
export const __FramerMetadata__ = {"exports":{"withMonthlyProjection":{"type":"reactHoc","name":"withMonthlyProjection","annotations":{"framerContractVersion":"1"}},"__FramerMetadata__":{"type":"variable"}}}
//# sourceMappingURL=./Monthly_Profit.map