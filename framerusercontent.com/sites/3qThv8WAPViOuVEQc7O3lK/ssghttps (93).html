import{jsx as _jsx}from"react/jsx-runtime";import{useState,useEffect}from"react";export function withAVGProfit(Component){return props=>{const[avgDailyProfit,setAvgDailyProfit]=useState(0);const[ethPrice,setEthPrice]=useState(0)// State to hold Ethereum price
;// Function to fetch AVG Daily Profit
const fetchAVGProfit=async()=>{try{console.log("Fetching AVG Daily Profit...");const response=await fetch("https://thedataineed.info/qhash/beta2/summery.json");const result=await response.json();// Access the 'AVG Daily Profit' key
if(result&&typeof result["AVG Daily Profit"]==="number"){const newAVGProfit=parseFloat(result["AVG Daily Profit"]).toFixed(4);console.log("Fetched AVG Daily Profit:",newAVGProfit);setAvgDailyProfit(newAVGProfit);}else{console.error("Unexpected data format or missing 'AVG Daily Profit':",result);}}catch(error){console.error("Error fetching 'AVG Daily Profit':",error);setAvgDailyProfit(0);}};// Function to fetch Ethereum price
const fetchEthPrice=async()=>{try{console.log("Fetching Ethereum price...");const response=await fetch("https://api.binance.com/api/v3/ticker/price?symbol=ETHUSDT");const result=await response.json();if(result&&typeof result.price==="string"){const newEthPrice=parseFloat(result.price).toFixed(2);console.log("Fetched Ethereum price:",newEthPrice);setEthPrice(newEthPrice);}else{console.error("Unexpected data format or missing Ethereum price:",result);}}catch(error){console.error("Error fetching Ethereum price:",error);setEthPrice(0);}};useEffect(()=>{// Fetch both AVG Daily Profit and Ethereum price initially
fetchAVGProfit();fetchEthPrice();// Set up intervals to fetch data every 10 seconds
const avgProfitInterval=setInterval(fetchAVGProfit,1e4);const ethPriceInterval=setInterval(fetchEthPrice,1e4);// Cleanup intervals on component unmount
return()=>{clearInterval(avgProfitInterval);clearInterval(ethPriceInterval);console.log("Intervals cleared");};},[])// Empty dependency array to run only once
;// Calculate AVG Daily Profit dollar value by multiplying with Ethereum price
const avgProfitInUsd=(parseFloat(avgDailyProfit)*parseFloat(ethPrice)).toFixed(2);// Render the original component with the calculated avgProfitInUsd
return /*#__PURE__*/_jsx(Component,{...props,text:`$${avgProfitInUsd}`});};}
export const __FramerMetadata__ = {"exports":{"withAVGProfit":{"type":"reactHoc","name":"withAVGProfit","annotations":{"framerContractVersion":"1"}},"__FramerMetadata__":{"type":"variable"}}}
//# sourceMappingURL=./DailyAVGProfit2.map